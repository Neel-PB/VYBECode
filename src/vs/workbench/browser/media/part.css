/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-workbench .part {
	box-sizing: border-box;
	overflow: hidden;
}

.monaco-workbench .part > .drop-block-overlay.visible {
	visibility: visible;
}

.monaco-workbench .part > .drop-block-overlay {
	position: absolute;
	top: 0;
	width: 100%;
	height: 100%;
	visibility: hidden;
	opacity: 0;
	z-index: 12;
}

.monaco-workbench .part > .title,
.monaco-workbench .part > .header-or-footer {
	display: none; /* Parts have to opt in to show area */
}

.monaco-workbench .part > .title,
.monaco-workbench .part > .header-or-footer {
	height: 35px;
	display: flex;
	box-sizing: border-box;
	overflow: hidden;
}

.monaco-workbench .part > .title {
	padding-left: 8px;
	padding-right: 8px;
}

.monaco-workbench .part > .title > .title-label {
	line-height: 35px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.monaco-workbench .part > .title > .title-label {
	padding-left: 12px;
}

.monaco-workbench .part > .title > .title-label h2 {
	font-size: 11px;
	cursor: default;
	font-weight: normal;
	margin: 0;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
}

.monaco-workbench .part > .title > .title-label a {
	text-decoration: none;
	font-size: 13px;
	cursor: default;
}

.monaco-workbench .part > .title > .title-actions {
	height: 35px;
	flex: 1;
	padding-left: 5px;
}

.monaco-workbench .part > .title > .title-actions .action-label {
	display: block;
	background-size: 16px;
	background-position: center center;
	background-repeat: no-repeat;
}

.monaco-workbench .part > .title > .title-actions .action-label .label {
	display: none;
}

.monaco-workbench .part > .content {
	font-size: 13px;
}

.monaco-workbench .part > .content > .monaco-progress-container,
.monaco-workbench .part.editor > .content .editor-group-container > .monaco-progress-container {
	position: absolute;
	left: 0;
	top: 33px; /* at the bottom of the 35px height title container */
	z-index: 5; /* on top of things */
}

/* ========================================
	VYBE: Trae AI Component Design - All Panels Rounded on 4 Sides
	======================================== */

/* VYBE: Subtle gray workbench background for "floating card" effect */
.monaco-workbench {
	background-color: var(--vscode-sideBar-border) !important; /* VYBE: Use theme background color */
}

/* Sidebar Panel (Explorer, Search, Extensions, etc.) - Rounded on ALL 4 sides */
/* Extends FULL HEIGHT from top to bottom */
.monaco-workbench .part.sidebar {
	border-radius: 12px;
	margin-right: 3px;
	margin-bottom: 3px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none;
	background-color: var(--vscode-sideBar-background); /* VYBE: Use theme panel color */
}

/* Editor Panel - Rounded on ALL 4 sides */
/* Extends from top, but STOPS to make room for terminal below */
.monaco-workbench .part.editor {
	border-radius: 12px;
	margin-right: 3px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none;
	background-color: var(--vscode-sideBar-background); /* VYBE: Use theme panel color */
}

/* Bottom Panel (Terminal, Output, etc.) - Rounded on ALL 4 sides */
/* Positioned ONLY under the Editor, NOT full width */
.monaco-workbench .part.panel.bottom {
	border-radius: 12px;
	margin-right: 3px;
	margin-bottom: 3px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none;
	background-color: var(--vscode-sideBar-background); /* VYBE: Use theme panel color */
}

/* Panel on left/right - also rounded */
.monaco-workbench .part.panel.left,
.monaco-workbench .part.panel.right {
	border-radius: 12px;
	margin: 0 3px 3px 3px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none;
	background-color: var(--vscode-sideBar-background); /* VYBE: Use theme panel color */
}

/* Auxiliary Bar (Chat/Agent Panel) - Rounded on ALL 4 sides */
/* Extends FULL HEIGHT from top to bottom */
.monaco-workbench .part.auxiliarybar {
	border-radius: 12px;
	margin-bottom: 3px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none;
	background-color: var(--vscode-sideBar-background); /* VYBE: Use theme panel color */
}

/* In VYBE mode, disable left edge resizing on aux panel while it is visible.
   Edge sash reopening from closure is not supported in VYBE mode. */
.monaco-workbench.vybe-mode-active:not(.noauxiliarybar) .monaco-sash.vertical[style*="left: 0"],
.monaco-workbench.vybe-mode-active:not(.noauxiliarybar) .monaco-sash.vertical[style*="left:0"] {
	pointer-events: none !important;
	cursor: default !important;
}

/* In IDE mode, disable left edge sash when aux panel is closed.
   This prevents hover indicator and dragging to reopen when aux is closed. */
.monaco-workbench:not(.vybe-mode-active).noauxiliarybar .monaco-sash.vertical[style*="left: 0"],
.monaco-workbench:not(.vybe-mode-active).noauxiliarybar .monaco-sash.vertical[style*="left:0"] {
	pointer-events: none !important;
	cursor: default !important;
	opacity: 0 !important;
}

/* ========================================
	VYBE Mode Layout + Overlay
	======================================== */

.monaco-workbench {
	--vybe-slide-distance: 0px;
}

.monaco-workbench.vybe-mode-active {
	overflow: hidden;
}

.monaco-workbench.vybe-mode-transitioning .vybe-central-track,
.monaco-workbench.vybe-mode-transitioning .vybe-mode-overlay {
	transition: transform 520ms cubic-bezier(.4, .1, .2, 1),
		opacity 280ms ease,
		left 520ms cubic-bezier(.4, .1, .2, 1),
		right 520ms cubic-bezier(.4, .1, .2, 1),
		top 520ms cubic-bezier(.4, .1, .2, 1),
		bottom 520ms cubic-bezier(.4, .1, .2, 1);
}

.monaco-workbench .vybe-central-track {
	will-change: transform;
}

.monaco-workbench.vybe-mode-active .vybe-central-track {
	/* stylelint-disable-next-line value-no-unknown-custom-properties */
	transform: translateX(calc(-1 * var(--vybe-slide-distance, 0px)));
	/* Custom CSS variable for dynamic slide distance */
}

.monaco-workbench .vybe-mode-overlay {
	position: absolute;
	display: flex;
	flex-direction: column;
	pointer-events: none;
	opacity: 0;
	z-index: 20;
	will-change: transform, left, opacity;
	margin-left: 4px; /* 4px gap between aux panel and Vybe panel */
}

/* When aux is snapped closed, the overlay's margin-left is set to 0 via inline styles
   so the Vybe panel starts at the left edge. */

.monaco-workbench .vybe-mode-overlay.visible {
	pointer-events: auto;
	opacity: 1;
}

/* Vybe Resizer - 4px gap between aux and Vybe panels */
.monaco-workbench.vybe-mode-active .vybe-mode-resizer {
	position: absolute;
	background: transparent;
	touch-action: none;
	transition: background-color 0.1s ease-out;
	pointer-events: auto;
}

.monaco-workbench.vybe-mode-active .vybe-mode-resizer:hover,
.monaco-workbench.vybe-mode-active .vybe-mode-resizer.active {
	background-color: #3ecf8e; /* VYBE: Custom teal/green color for resize indicator */
}

.monaco-workbench:not(.vybe-mode-active) .vybe-mode-resizer {
	display: none;
}

.monaco-workbench .vybe-mode-overlay__surface {
	border-radius: 12px; /* Match other panels' border-radius */
	background-color: var(--vscode-sideBar-background);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	border: none; /* Match other panels - no border */
	width: 100%;
	height: 100%;
	overflow: hidden;
}

.monaco-workbench .vybe-mode-overlay__empty {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: flex-start;
	gap: 8px;
	height: 100%;
	padding: 32px;
	color: var(--vscode-foreground);
}

.monaco-workbench .vybe-mode-overlay__empty h3 {
	margin: 0;
	font-size: 18px;
	font-weight: 600;
}

.monaco-workbench .vybe-mode-overlay__empty p {
	margin: 0;
	font-size: 13px;
	opacity: 0.7;
}
